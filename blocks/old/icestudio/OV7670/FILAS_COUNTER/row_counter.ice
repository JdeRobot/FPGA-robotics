{
  "version": "1.2",
  "package": {
    "name": "",
    "version": "",
    "description": "",
    "author": "",
    "image": "%3Csvg%20height=%22512pt%22%20viewBox=%220%200%20512%20512%22%20width=%22512pt%22%20xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath%20d=%22M59.734%20392.535V85.332h34.133v307.203zm0%200%22%20fill=%22#e91e63%22/%3E%3Cpath%20d=%22M59.734%2059.734h392.532v34.133H59.734zm0%200M59.734%20418.133h392.532v34.133H59.734zm0%200%22%20fill=%22#cc66a1%22/%3E%3Cpath%20d=%22M426.668%20392.535V85.332h34.133v307.203zm0%200%22%20fill=%22#cc66a1%22/%3E%3Cg%20fill=%22#e91e63%22%3E%3Cpath%20d=%22M59.734%2059.734h392.532v34.133H59.734zm0%200M59.734%20418.133h392.532v34.133H59.734zm0%200%22/%3E%3Cpath%20d=%22M426.668%20392.535V85.332h34.133v307.203zm0%200%22/%3E%3C/g%3E%3Cpath%20d=%22M213.332%20187.734h85.336c14.137%200%2025.598%2011.461%2025.598%2025.598v85.336c0%2014.137-11.461%2025.598-25.598%2025.598h-85.336c-14.137%200-25.598-11.461-25.598-25.598v-85.336c0-14.137%2011.461-25.598%2025.598-25.598zm0%200%22%20fill=%22#283593%22/%3E%3Cpath%20d=%22M34.133%20187.734h85.332c14.14%200%2025.601%2011.461%2025.601%2025.598v85.336c0%2014.137-11.46%2025.598-25.601%2025.598H34.133c-14.137%200-25.598-11.461-25.598-25.598v-85.336c0-14.137%2011.461-25.598%2025.598-25.598zm0%200%22%20fill=%22#02a9f4%22/%3E%3Cpath%20d=%22M34.133%20366.934h85.332c14.14%200%2025.601%2011.46%2025.601%2025.601v85.332c0%2014.137-11.46%2025.598-25.601%2025.598H34.133c-14.137%200-25.598-11.461-25.598-25.598v-85.332c0-14.14%2011.461-25.601%2025.598-25.601zm0%200M34.133%208.535h85.332c14.14%200%2025.601%2011.461%2025.601%2025.598v85.332c0%2014.14-11.46%2025.601-25.601%2025.601H34.133c-14.137%200-25.598-11.46-25.598-25.601V34.133c0-14.137%2011.461-25.598%2025.598-25.598zm0%200%22%20fill=%22#9d27b0%22/%3E%3Cpath%20d=%22M392.535%20187.734h85.332c14.137%200%2025.598%2011.461%2025.598%2025.598v85.336c0%2014.137-11.461%2025.598-25.598%2025.598h-85.332c-14.14%200-25.601-11.461-25.601-25.598v-85.336c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#02a9f4%22/%3E%3Cpath%20d=%22M392.535%20366.934h85.332c14.137%200%2025.598%2011.46%2025.598%2025.601v85.332c0%2014.137-11.461%2025.598-25.598%2025.598h-85.332c-14.14%200-25.601-11.461-25.601-25.598v-85.332c0-14.14%2011.46-25.601%2025.601-25.601zm0%200M392.535%208.535h85.332c14.137%200%2025.598%2011.461%2025.598%2025.598v85.332c0%2014.14-11.461%2025.601-25.598%2025.601h-85.332c-14.14%200-25.601-11.46-25.601-25.601V34.133c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#9d27b0%22/%3E%3Cpath%20d=%22M392.535%20187.734h85.332c14.137%200%2025.598%2011.461%2025.598%2025.598v85.336c0%2014.137-11.461%2025.598-25.598%2025.598h-85.332c-14.14%200-25.601-11.461-25.601-25.598v-85.336c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#0377bc%22/%3E%3Cpath%20d=%22M392.535%20366.934h85.332c14.137%200%2025.598%2011.46%2025.598%2025.601v85.332c0%2014.137-11.461%2025.598-25.598%2025.598h-85.332c-14.14%200-25.601-11.461-25.601-25.598v-85.332c0-14.14%2011.46-25.601%2025.601-25.601zm0%200M392.535%208.535h85.332c14.137%200%2025.598%2011.461%2025.598%2025.598v85.332c0%2014.14-11.461%2025.601-25.598%2025.601h-85.332c-14.14%200-25.601-11.46-25.601-25.601V34.133c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#6a1b9a%22/%3E%3Cpath%20d=%22M392.535%20187.734h59.73c14.141%200%2025.602%2011.461%2025.602%2025.598v85.336c0%2014.137-11.46%2025.598-25.601%2025.598h-59.73c-14.141%200-25.602-11.461-25.602-25.598v-85.336c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#02a9f4%22/%3E%3Cpath%20d=%22M392.535%20366.934h59.73c14.141%200%2025.602%2011.46%2025.602%2025.601v85.332c0%2014.137-11.46%2025.598-25.601%2025.598h-59.73c-14.141%200-25.602-11.461-25.602-25.598v-85.332c0-14.14%2011.46-25.601%2025.601-25.601zm0%200M392.535%208.535h59.73c14.141%200%2025.602%2011.461%2025.602%2025.598v85.332c0%2014.14-11.46%2025.601-25.601%2025.601h-59.73c-14.141%200-25.602-11.46-25.602-25.601V34.133c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#9d27b0%22/%3E%3Cpath%20d=%22M392.535%20187.734h59.73c14.141%200%2025.602%2011.461%2025.602%2025.598v85.336c0%2014.137-11.46%2025.598-25.601%2025.598h-59.73c-14.141%200-25.602-11.461-25.602-25.598v-85.336c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#02a9f4%22/%3E%3Cpath%20d=%22M392.535%20366.934h59.73c14.141%200%2025.602%2011.46%2025.602%2025.601v85.332c0%2014.137-11.46%2025.598-25.601%2025.598h-59.73c-14.141%200-25.602-11.461-25.602-25.598v-85.332c0-14.14%2011.46-25.601%2025.601-25.601zm0%200M392.535%208.535h59.73c14.141%200%2025.602%2011.461%2025.602%2025.598v85.332c0%2014.14-11.46%2025.601-25.601%2025.601h-59.73c-14.141%200-25.602-11.46-25.602-25.601V34.133c0-14.137%2011.46-25.598%2025.601-25.598zm0%200%22%20fill=%22#9d27b0%22/%3E%3Cpath%20d=%22M213.332%208.535h85.336c14.137%200%2025.598%2011.461%2025.598%2025.598v85.332c0%2014.14-11.461%2025.601-25.598%2025.601h-85.336c-14.137%200-25.598-11.46-25.598-25.601V34.133c0-14.137%2011.461-25.598%2025.598-25.598zm0%200M213.332%20366.934h85.336c14.137%200%2025.598%2011.46%2025.598%2025.601v85.332c0%2014.137-11.461%2025.598-25.598%2025.598h-85.336c-14.137%200-25.598-11.461-25.598-25.598v-85.332c0-14.14%2011.461-25.601%2025.598-25.601zm0%200%22%20fill=%22#02a9f4%22/%3E%3Cpath%20d=%22M477.867%20153.602c18.852%200%2034.133-15.286%2034.133-34.137V34.133C512%2015.28%20496.719%200%20477.867%200h-85.332c-18.851%200-34.137%2015.281-34.137%2034.133v17.066h-25.597V34.133C332.8%2015.28%20317.52%200%20298.668%200h-85.336c-18.852%200-34.133%2015.281-34.133%2034.133v17.066h-25.597V34.133C153.602%2015.28%20138.316%200%20119.465%200H34.133C15.28%200%200%2015.281%200%2034.133v85.332c0%2018.851%2015.281%2034.137%2034.133%2034.137h17.066v25.597H34.133C15.28%20179.2%200%20194.48%200%20213.332v85.336c0%2018.852%2015.281%2034.133%2034.133%2034.133h17.066v25.597H34.133C15.28%20358.398%200%20373.684%200%20392.535v85.332C0%20496.72%2015.281%20512%2034.133%20512h85.332c18.851%200%2034.137-15.281%2034.137-34.133v-17.066h25.597v17.066C179.2%20496.72%20194.48%20512%20213.332%20512h85.336c18.852%200%2034.133-15.281%2034.133-34.133v-17.066h25.597v17.066c0%2018.852%2015.286%2034.133%2034.137%2034.133h85.332C496.72%20512%20512%20496.719%20512%20477.867v-85.332c0-18.851-15.281-34.137-34.133-34.137h-17.066v-25.597h17.066C496.72%20332.8%20512%20317.52%20512%20298.668v-85.336c0-18.852-15.281-34.133-34.133-34.133h-17.066v-25.597zM375.465%2034.132c0-9.425%207.644-17.066%2017.07-17.066h85.332c9.426%200%2017.067%207.641%2017.067%2017.067v85.332c0%209.426-7.641%2017.07-17.067%2017.07h-85.332c-9.426%200-17.07-7.644-17.07-17.07zm17.07%20145.067c-18.851%200-34.137%2015.281-34.137%2034.133v85.336c0%2018.852%2015.286%2034.133%2034.137%2034.133h17.067v25.597h-17.067c-18.851%200-34.137%2015.286-34.137%2034.137v17.067h-25.597v-17.067c0-18.851-15.281-34.137-34.133-34.137h-85.336c-18.852%200-34.133%2015.286-34.133%2034.137v17.067h-25.597v-17.067c0-18.851-15.286-34.137-34.137-34.137h-17.067v-25.597h17.067c18.851%200%2034.137-15.281%2034.137-34.133v-85.336c0-18.852-15.286-34.133-34.137-34.133h-17.067v-25.597h17.067c18.851%200%2034.137-15.286%2034.137-34.137v-17.067h25.597v17.067c0%2018.851%2015.281%2034.137%2034.133%2034.137h85.336c18.852%200%2034.133-15.286%2034.133-34.137v-17.067h25.597v17.067c0%2018.851%2015.286%2034.137%2034.137%2034.137h17.067v25.597zM358.398%2068.266v17.066h-25.597V68.266zM196.266%2034.133c0-9.426%207.64-17.067%2017.066-17.067h85.336c9.426%200%2017.066%207.641%2017.066%2017.067v85.332c0%209.426-7.64%2017.07-17.066%2017.07h-85.336c-9.426%200-17.066-7.644-17.066-17.07zm-17.067%2034.133v17.066h-25.597V68.266zM17.066%20119.465V34.133c0-9.426%207.641-17.067%2017.067-17.067h85.332c9.426%200%2017.07%207.641%2017.07%2017.067v85.332c0%209.426-7.644%2017.07-17.07%2017.07H34.133c-9.426%200-17.067-7.644-17.067-17.07zm51.2%2034.137h17.066v25.597H68.266zm-51.2%20145.066v-85.336c0-9.426%207.641-17.066%2017.067-17.066h85.332c9.426%200%2017.07%207.64%2017.07%2017.066v85.336c0%209.426-7.644%2017.066-17.07%2017.066H34.133c-9.426%200-17.067-7.64-17.067-17.066zm51.2%2034.133h17.066v25.597H68.266zm68.27%20145.066c0%209.426-7.645%2017.067-17.071%2017.067H34.133c-9.426%200-17.067-7.641-17.067-17.067v-85.332c0-9.426%207.641-17.07%2017.067-17.07h85.332c9.426%200%2017.07%207.644%2017.07%2017.07zm17.066-34.133v-17.066h25.597v17.066zm162.132%2034.133c0%209.426-7.64%2017.067-17.066%2017.067h-85.336c-9.426%200-17.066-7.641-17.066-17.067v-85.332c0-9.426%207.64-17.07%2017.066-17.07h85.336c9.426%200%2017.066%207.644%2017.066%2017.07zm17.067-34.133v-17.066h25.597v17.066zm162.133-51.199v85.332c0%209.426-7.641%2017.067-17.067%2017.067h-85.332c-9.426%200-17.07-7.641-17.07-17.067v-85.332c0-9.426%207.644-17.07%2017.07-17.07h85.332c9.426%200%2017.067%207.644%2017.067%2017.07zm-51.2-34.137h-17.066v-25.597h17.066zm51.2-145.066v85.336c0%209.426-7.641%2017.066-17.067%2017.066h-85.332c-9.426%200-17.07-7.64-17.07-17.066v-85.336c0-9.426%207.644-17.066%2017.07-17.066h85.332c9.426%200%2017.067%207.64%2017.067%2017.066zm-51.2-34.133h-17.066v-25.597h17.066zm0%200%22/%3E%3Cpath%20d=%22M298.668%20179.2h-85.336c-18.852%200-34.133%2015.28-34.133%2034.132v85.336c0%2018.852%2015.281%2034.133%2034.133%2034.133h85.336c18.852%200%2034.133-15.281%2034.133-34.133v-85.336c0-18.852-15.281-34.133-34.133-34.133zm17.066%20119.468c0%209.426-7.64%2017.066-17.066%2017.066h-85.336c-9.426%200-17.066-7.64-17.066-17.066v-85.336c0-9.426%207.64-17.066%2017.066-17.066h85.336c9.426%200%2017.066%207.64%2017.066%2017.066zm0%200M76.8%2042.668a8.534%208.534%200%200%200-8.534-8.535H42.668a8.534%208.534%200%200%200-8.535%208.535v25.598a8.534%208.534%200%201%200%2017.066%200V51.199h17.067a8.533%208.533%200%200%200%208.535-8.531zm0%200M435.2%20469.332a8.534%208.534%200%200%200%208.534%208.535h25.598a8.534%208.534%200%200%200%208.535-8.535v-25.598a8.534%208.534%200%201%200-17.066%200v17.067h-17.067a8.533%208.533%200%200%200-8.535%208.531zm0%200%22/%3E%3C/svg%3E"
  },
  "design": {
    "board": "icezum",
    "graph": {
      "blocks": [
        {
          "id": "d5f479c6-50cb-4edc-bbaa-1aca129b5d21",
          "type": "basic.input",
          "data": {
            "name": "VSYNC",
            "pins": [
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true,
            "clock": false
          },
          "position": {
            "x": 96,
            "y": 56
          }
        },
        {
          "id": "89c9d008-ffac-4eab-acec-04395fb45086",
          "type": "basic.output",
          "data": {
            "name": "debug",
            "pins": [
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true
          },
          "position": {
            "x": 1648,
            "y": 200
          }
        },
        {
          "id": "3eaadf0c-8989-4c0f-bf4a-c689ca9309de",
          "type": "basic.input",
          "data": {
            "name": "HREF",
            "pins": [
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true,
            "clock": false
          },
          "position": {
            "x": 56,
            "y": 200
          }
        },
        {
          "id": "fa812657-8bd0-4b54-b31b-b491a23a6f55",
          "type": "basic.input",
          "data": {
            "name": "PCLK",
            "pins": [
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true,
            "clock": false
          },
          "position": {
            "x": 72,
            "y": 336
          }
        },
        {
          "id": "5d4cc17f-3e01-47f4-a6fd-f2f2719bcf47",
          "type": "basic.input",
          "data": {
            "name": "CLK",
            "pins": [
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true,
            "clock": false
          },
          "position": {
            "x": 72,
            "y": 472
          }
        },
        {
          "id": "7b452144-2226-4189-885f-1b7be094f9f0",
          "type": "basic.output",
          "data": {
            "name": "pixel_fila",
            "range": "[8:0]",
            "pins": [
              {
                "index": "8",
                "name": "",
                "value": ""
              },
              {
                "index": "7",
                "name": "",
                "value": ""
              },
              {
                "index": "6",
                "name": "",
                "value": ""
              },
              {
                "index": "5",
                "name": "",
                "value": ""
              },
              {
                "index": "4",
                "name": "",
                "value": ""
              },
              {
                "index": "3",
                "name": "",
                "value": ""
              },
              {
                "index": "2",
                "name": "",
                "value": ""
              },
              {
                "index": "1",
                "name": "",
                "value": ""
              },
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true
          },
          "position": {
            "x": 1680,
            "y": 512
          }
        },
        {
          "id": "2bff3157-9e5d-487c-9b77-3a077aaf6fea",
          "type": "basic.input",
          "data": {
            "name": "START",
            "pins": [
              {
                "index": "0",
                "name": "",
                "value": ""
              }
            ],
            "virtual": true,
            "clock": false
          },
          "position": {
            "x": 72,
            "y": 600
          }
        },
        {
          "id": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
          "type": "basic.code",
          "data": {
            "code": "localparam VSYNC1 = 2'd0;\r\nlocalparam HREF_HIGH_1 = 2'd1;\r\nlocalparam HREF_HIGH_2 = 2'd2;\r\nlocalparam HREF_LOW = 2'd3;\r\nreg [8:0] pixel_fila_reg = 9'd0;\r\nreg debug_reg = 1'b0;\r\n\r\nreg [1:0] state = VSYNC1;\r\n\r\nalways @(posedge CLK)\r\nbegin\r\n  case(state)\r\n\r\n    VSYNC1:\r\n      if(start == 1'b1 && VSYNC == 1'b1)\r\n        begin\r\n          pixel_fila_reg <= 9'd0;\r\n          state <= HREF_HIGH_1;\r\n          debug_reg <= !debug_reg;\r\n        end\r\n      else \r\n        begin\r\n          state <= VSYNC1;\r\n        end\r\n      \r\n    HREF_HIGH_1:\r\n      if(HREF == 1'b1)\r\n        begin\r\n          pixel_fila_reg <= pixel_fila_reg + 9'd1;\r\n          state <= HREF_HIGH_2;\r\n        end\r\n      else \r\n        begin\r\n          state <= HREF_HIGH_1;\r\n        end\r\n\r\n    HREF_HIGH_2:\r\n      if(HREF == 1'b1)\r\n        begin\r\n          state <= HREF_HIGH_2;\r\n        end\r\n      else \r\n        begin\r\n          state <= HREF_LOW;\r\n        end\r\n\r\n    HREF_LOW:\r\n      if(HREF == 1'b0 && VSYNC == 1'b0)\r\n        begin\r\n          state<= HREF_LOW;\r\n        end\r\n      else if(HREF == 1'b0 && VSYNC == 1'b1)\r\n        begin\r\n          state<= VSYNC1;\r\n        end\r\n      else if(HREF == 1'b1 && VSYNC == 1'b0)\r\n        begin\r\n          state<= HREF_HIGH_1;\r\n        end\r\n  endcase\r\nend\r\n\r\nassign pixel_fila = pixel_fila_reg;\r\nassign debug = debug_reg;",
            "params": [],
            "ports": {
              "in": [
                {
                  "name": "VSYNC"
                },
                {
                  "name": "HREF"
                },
                {
                  "name": "PCLK"
                },
                {
                  "name": "CLK"
                },
                {
                  "name": "start"
                }
              ],
              "out": [
                {
                  "name": "debug"
                },
                {
                  "name": "pixel_fila",
                  "range": "[8:0]",
                  "size": 9
                }
              ]
            }
          },
          "position": {
            "x": 288,
            "y": 64
          },
          "size": {
            "width": 1224,
            "height": 640
          }
        }
      ],
      "wires": [
        {
          "source": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "debug"
          },
          "target": {
            "block": "89c9d008-ffac-4eab-acec-04395fb45086",
            "port": "in"
          }
        },
        {
          "source": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "pixel_fila"
          },
          "target": {
            "block": "7b452144-2226-4189-885f-1b7be094f9f0",
            "port": "in"
          },
          "size": 9
        },
        {
          "source": {
            "block": "3eaadf0c-8989-4c0f-bf4a-c689ca9309de",
            "port": "out"
          },
          "target": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "HREF"
          }
        },
        {
          "source": {
            "block": "d5f479c6-50cb-4edc-bbaa-1aca129b5d21",
            "port": "out"
          },
          "target": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "VSYNC"
          }
        },
        {
          "source": {
            "block": "fa812657-8bd0-4b54-b31b-b491a23a6f55",
            "port": "out"
          },
          "target": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "PCLK"
          }
        },
        {
          "source": {
            "block": "5d4cc17f-3e01-47f4-a6fd-f2f2719bcf47",
            "port": "out"
          },
          "target": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "CLK"
          }
        },
        {
          "source": {
            "block": "2bff3157-9e5d-487c-9b77-3a077aaf6fea",
            "port": "out"
          },
          "target": {
            "block": "e180d1a3-7db6-44a6-911d-94d668dc6f2e",
            "port": "start"
          }
        }
      ]
    }
  },
  "dependencies": {}
}